function git_ls-ignored () {
  git ls-files -v $(git rev-parse --show-toplevel) | grep "^[[:lower:]]"
}

function git_ls-untracked {
  git status ${1} -s | grep '^??' | awk '{print $2}'
}

function git_pristine {
  git reset $1 --hard && git clean -fX && git clean -fx && git clean -fd
}

function git_gc-all {
  git -c gc.reflogExpire=0 \
      -c gc.reflogExpireUnreachable=0 \
      -c gc.rerereresolved=0 \
      -c gc.rerereunresolved=0 \
      -c gc.pruneExpire=now \
      gc $@
}

function git_log-new () {
  c=$(git status -sb .git | grep 'ahead' | sed 's/.*\[ahead \([0-9]*\)\]/\1/')
  if [[ ! $c -eq "" ]]; then
    git log -n$((c+1)) "$@"
  else
    echo Current branch up-to-date with remote
  fi
}
